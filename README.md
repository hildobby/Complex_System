Expanding and exploring the Bak-Sneppen model written in Python 3+
=========================================
2 dimensions and 3 dimensions Bak-Snappen model, evaluation of the resulting model behaviour and effect of various parameters.

By: [Hildebert Mouli√©](https://github.com/hildobby), [Philippe Nicolau](https://github.com/PNicolau96), [Louis Weyland](https://github.com/LouisWW) & [Binjie Zhou](https://github.com/binjiezhou).

<p float="left" align="center">
  <img src="https://github.com/hildobby/Complex_System/blob/master/src/figures/lattice_itr%3D1.png" width="400" />
  <img src="https://github.com/hildobby/Complex_System/blob/master/src/figures/lattice-age_itr%3D2000.png" width="400" /> 
</p>

## Project Plan
1. Bring the 1 dimension Bak-Snappen model to 2 dimensions and 3 dimensions
2. Evaluate different results from the model:
    * Avalanche time and compare it between several models
    * Mutation distance
    * Cluster sizes
    * Evolutionary time
3. Test the data with the [powerlaw](https://pypi.org/project/powerlaw/) package

## Overview of some of the results

### Fitness over time

<p align="center">
  <img src="https://github.com/hildobby/Complex_System/blob/master/src/figures/average_fitness_s%3D(20%2C%2020)_itr%3D2000_rep%3D10_std%3D0.3.png" />
</p>

### Impact of percentage of empty node
<p align="center">
  <img src="https://github.com/hildobby/Complex_System/blob/master/src/figures/avalanche_empy_space_percentage_comparison.png" />
</p>
<p align="center">
  <img src="https://github.com/hildobby/Complex_System/blob/master/src/figures/threshold_empy_space_percentage_comparison.png" />
</p>

### Cluster size distribution for different grid sizes
<p align="center">
  <img src="https://github.com/hildobby/Complex_System/blob/master/src/figures/cluster-sizes_rep=2000.png" />
</p>

## Working with the repository

In order to locally gather the required packages, the following command can be called:
```
pip3 install -r requirements.txt
```
The code for the model is located in `src/lattice.py` and the graphs can be generated by calling the different functions in `src/main.py`. The file `results_presentation.ipynb` that was used to create the presentation of this project shows how the result figures as shown above can be generated.

Running the `lattice.py` function in the bash shell will create a Bak-Sneppen model with a grid size of 20X20 and will plot the average fitness, avalanche time, the cluster size distribution and a visualisation of the grid itself. 

In `main.py`, various statistical analysis are generated. The various function can be called using the following command where `itr` represent the number of steps in the Bak-Sneppen Model:
```
src/main.py -func function_example -itr=200
```

For further details please run the following command which shows which function can be called and what other paramters can be tuned from the command line:
```
src/main.py --help
```

Generating the presentation from the `results_presentation.ipynb` Jupyter notebook
```
jupyter nbconvert results_presentation.ipynb --to slides --post serve
```

## References
* Alstott, J., Bullmore, E., & Plenz, D. (2014). powerlaw: a Python package for analysis of heavy-tailed distributions. PloS one, 9(1), e85777.
* Bak, P., & Sneppen, K. (1993). Punctuated equilibrium and criticality in a simple model of evolution. Physical review letters, 71(24), 4083.
* Fraiman, D. (2018). Bak-Sneppen model: Local equilibrium and critical value. Physical Review E, 97(4), 042123.
* Paczuski, M., Maslov, S., & Bak, P. (1996). Avalanche dynamics in evolution, growth, and depinning models. Physical Review E, 53(1), 414.
